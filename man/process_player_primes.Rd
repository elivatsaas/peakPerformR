% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/process_player_primes.R
\name{process_player_primes}
\alias{process_player_primes}
\title{Process Player Prime Seasons for PQI Calculation}
\usage{
process_player_primes(final_dataset, season_data)
}
\arguments{
\item{final_dataset}{A data frame containing player performance data with prime flags.
Must include 'id', 'player_name', 'sport', 'league', 'position', 'season',
'age', 'games_played', 'in_prime', 'scaled_value', 'tier_score',
and 'performance_tier' columns.}

\item{season_data}{Original season-level data for calculating standard deviations.
Must include 'id', 'season', 'age', 'scaled_value', and 'in_prime' columns.}
}
\value{
A data frame with one row per player containing prime-related metrics:
\item{id}{Player identifier}
\item{player_name}{Player name}
\item{sport}{Sport}
\item{league}{League}
\item{position}{Position}
\item{career_seasons}{Number of seasons in career}
\item{career_games}{Total games played in career}
\item{prime_seasons}{Number of prime seasons}
\item{prime_avg_tier}{Average tier value during prime seasons}
\item{prime_peak_value}{Peak performance value during prime seasons}
\item{prime_avg_value}{Average performance value during prime seasons}
\item{prime_elite_pct}{Percentage of prime seasons at Elite level}
\item{prime_great_pct}{Percentage of prime seasons at Great level}
\item{prime_avg_pct}{Percentage of prime seasons at Average level}
\item{career_elite_pct}{Percentage of career at Elite level}
\item{career_great_pct}{Percentage of career at Great level}
\item{prime_density}{Percentage of career that was prime}
\item{latest_season_played}{Most recent season played}
\item{max_age}{Maximum age in dataset}
\item{is_active}{Whether player is active (played in latest season)}
}
\description{
Aggregates season-level player data to player-level summaries with prime-related metrics
needed for Prime Quality Index (PQI) calculation.
}
\examples{
\dontrun{
# Create player performance dataset
player_data <- create_player_performance_dataset(
  sports_data = sports,
  prime_data = player_primes_pct,
  cluster_data = cluster_data
)

# Process prime seasons for PQI calculation
processed_data <- process_player_primes(player_data)

# Calculate PQI
pqi <- calculate_prime_quality_index(processed_data)
}

}
